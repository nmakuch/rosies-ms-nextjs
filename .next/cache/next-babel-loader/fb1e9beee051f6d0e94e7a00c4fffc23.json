{"ast":null,"code":"const sgMail = require(\"@sendgrid/mail\");\n\nexport default async function (req, res) {\n  sgMail.setApiKey(process.env.SENDGRID_API_KEY);\n  const {\n    email,\n    message,\n    radioLabel,\n    cleanerMessage\n  } = req.body;\n  const content = {\n    to: \"makuch.nick@gmail.com\",\n    from: email,\n    subject: `New Message From`,\n    text: message,\n    html: `\n        <h1>New booking</h1>\n        <br /><h2>Selected plan:</h2>\n        <p>${radioLabel}</p>\n        <h2>Cleaner message</h2>\n        <p>${cleanerMessage}</p>`\n  };\n\n  try {\n    await sgMail.send(content);\n    res.status(200).send(\"Message sent successfully.\");\n  } catch (error) {\n    console.log(\"ERROR\", error);\n    res.status(400).send(\"Message not sent.\");\n  }\n}","map":{"version":3,"sources":["/Users/nickmakuch/Documents/Code/rosies-ms-nextjs/pages/api/booking.js"],"names":["sgMail","require","req","res","setApiKey","process","env","SENDGRID_API_KEY","email","message","radioLabel","cleanerMessage","body","content","to","from","subject","text","html","send","status","error","console","log"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,gBAAD,CAAtB;;AAEA,eAAe,gBAAeC,GAAf,EAAoBC,GAApB,EAAyB;AACtCH,EAAAA,MAAM,CAACI,SAAP,CAAiBC,OAAO,CAACC,GAAR,CAAYC,gBAA7B;AAEA,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,OAAT;AAAkBC,IAAAA,UAAlB;AAA8BC,IAAAA;AAA9B,MAAiDT,GAAG,CAACU,IAA3D;AAEA,QAAMC,OAAO,GAAG;AACdC,IAAAA,EAAE,EAAE,uBADU;AAEdC,IAAAA,IAAI,EAAEP,KAFQ;AAGdQ,IAAAA,OAAO,EAAG,kBAHI;AAIdC,IAAAA,IAAI,EAAER,OAJQ;AAKdS,IAAAA,IAAI,EAAG;;;aAGER,UAAW;;aAEXC,cAAe;AAVV,GAAhB;;AAaA,MAAI;AACF,UAAMX,MAAM,CAACmB,IAAP,CAAYN,OAAZ,CAAN;AACAV,IAAAA,GAAG,CAACiB,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqB,4BAArB;AACD,GAHD,CAGE,OAAOE,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACAlB,IAAAA,GAAG,CAACiB,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqB,mBAArB;AACD;AACF","sourcesContent":["const sgMail = require(\"@sendgrid/mail\");\n\nexport default async function(req, res) {\n  sgMail.setApiKey(process.env.SENDGRID_API_KEY);\n\n  const { email, message, radioLabel, cleanerMessage } = req.body;\n\n  const content = {\n    to: \"makuch.nick@gmail.com\",\n    from: email,\n    subject: `New Message From`,\n    text: message,\n    html: `\n        <h1>New booking</h1>\n        <br /><h2>Selected plan:</h2>\n        <p>${radioLabel}</p>\n        <h2>Cleaner message</h2>\n        <p>${cleanerMessage}</p>`\n  };\n\n  try {\n    await sgMail.send(content);\n    res.status(200).send(\"Message sent successfully.\");\n  } catch (error) {\n    console.log(\"ERROR\", error);\n    res.status(400).send(\"Message not sent.\");\n  }\n}\n"]},"metadata":{},"sourceType":"module"}