{"version":3,"file":"static/webpack/static/development/pages/contact.js.239977eb08dd14bd831d.hot-update.js","sources":["webpack:///./pages/contact.js"],"sourcesContent":["// this comment tells babel to convert jsx to calls to a function called jsx instead of React.createElement\n/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { useState } from \"react\";\nimport Layout from \"../components/Layout\";\nimport CallToAction from \"../components/CallToAction\";\nimport GlobalHeader from \"../components/GlobalHeader\";\nimport Router from \"next/router\";\n\n\nexport default () => {\n  const [status, setStatus] = useState({\n    submitted: false,\n    submitting: false,\n    info: { error: false, msg: null }\n  });\n\n  const [inputs, setInputs] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    message: \"\"\n  });\n\n  const handleResponse = (status, msg) => {\n    if (status === 200) {\n      setStatus({\n        submitted: true,\n        submitting: false,\n        info: { error: false, msg: msg }\n      });\n      setInputs({\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        message: \"\"\n      });\n    } else {\n      setStatus({\n        info: { error: true, msg: msg }\n      });\n    }\n  };\n\n  const handleOnChange = e => {\n    e.persist();\n    setInputs(prev => ({\n      ...prev,\n      [e.target.id]: e.target.value\n    }));\n    setStatus({\n      submitted: false,\n      submitting: false,\n      info: { error: false, msg: null }\n    });\n  };\n\n  const handleOnSubmit = async e => {\n    e.preventDefault();\n    setStatus(prevStatus => ({ ...prevStatus, submitting: true }));\n    const res = await fetch(\"/api/send\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(inputs)\n    });\n    const text = await res.text();\n    handleResponse(res.status, text);\n    setTimeout(function(){ Router.push(\"/contact#global-header\"); }, 1500);\n  };\n\n  return (\n    <Layout>\n      <GlobalHeader\n        globalHeaderTitle=\"Contact Us\"\n        globalHeaderImage=\"../img/contact-bg.jpg\"\n      />\n      <main>\n        <section\n          css={css`\n            padding: 100px 15px !important;\n            h2 {\n              font-weight: 600;\n            }\n\n            h2:first-of-type {\n              margin-bottom: 25px;\n            }\n\n            h2:last-of-type {\n              margin-bottom: 25px;\n            }\n          `}\n          id=\"contact-form\"\n        >\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-md-8 offset-md-2 col-sm-12\">\n                <div className=\"block\">\n                  <h2>Feel free to e-mail or call at any time</h2>\n                  <p\n                    css={css`\n                      font-size: 16px;\n                    `}\n                  >\n                    If you'd rather speak to us in person or send an email at\n                    your own leisure, feel free to email or call us at any time,\n                    we'd be more than happy to answer your questions or give an\n                    estimated price.\n                  </p>\n                  <p\n                    css={css`\n                      font-size: 16px;\n                    `}\n                  >\n                    <strong>Email:</strong> information@rosiesmaidservice.ca\n                  </p>\n                  <p\n                    css={css`\n                      font-size: 16px;\n                      margin-bottom: 75px;\n                    `}\n                  >\n                    <strong>Phone number:</strong> (437) 777-6243\n                  </p>\n\n                  <h2>Or submit a quick message</h2>\n                  <section\n                    css={css`\n                      padding-top: 0 !important;\n                    `}\n                    id=\"contact-form\"\n                  >\n                    <div className=\"container\">\n                      <div className=\"row\">\n                        <div\n                          css={css`\n                            padding: 0 0 !important;\n                          `}\n                          className=\"col-md-12 col-sm-12\"\n                        >\n                          <div className=\"block\">\n                            <form onSubmit={handleOnSubmit}>\n                              <div className=\"form-group\">\n                                <input\n                                  id=\"name\"\n                                  type=\"name\"\n                                  onChange={handleOnChange}\n                                  required\n                                  className=\"form-control\"\n                                  value={inputs.name}\n                                  placeholder=\"Your name\"\n                                />\n                              </div>\n                              <div className=\"form-group\">\n                                <input\n                                  id=\"email\"\n                                  type=\"email\"\n                                  onChange={handleOnChange}\n                                  required\n                                  className=\"form-control\"\n                                  value={inputs.email}\n                                  placeholder=\"Your email\"\n                                />\n                              </div>\n                              <div className=\"form-group\">\n                                <input\n                                  id=\"phone\"\n                                  type=\"phone\"\n                                  onChange={handleOnChange}\n                                  required\n                                  className=\"form-control\"\n                                  value={inputs.phone}\n                                  placeholder=\"Your phone number\"\n                                />\n                              </div>\n                              <div className=\"form-group-2\">\n                                <textarea\n                                  id=\"message\"\n                                  name=\"message\"\n                                  onChange={handleOnChange}\n                                  required\n                                  className=\"form-control\"\n                                  value={inputs.message}\n                                  rows=\"3\"\n                                  placeholder=\"Your message\"\n                                />\n                              </div>\n                              {status.info.error && (\n                                <div className=\"error\">\n                                  Error: {status.info.msg}\n                                </div>\n                              )}\n                              <button\n                                type=\"submit\"\n                                disabled={status.submitting}\n                              >\n                                {!status.submitting\n                                  ? !status.submitted\n                                    ? \"Submit\"\n                                    : \"Your message has been submitted\"\n                                  : \"Submitting...\"}\n                              </button>\n                            </form>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </section>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </main>\n      <CallToAction\n        callTitle=\"You're one step away from a clean and happy home!\"\n        callText=\"If you'd like to know more about the services we offer, please view our Services page by clicking the button below.\"\n        callLinkUrl=\"/services\"\n        callLink=\"View our services\"\n        callImage=\"img/contact-bg.jpg\"\n      />\n    </Layout>\n  );\n};\n"],"mappings":"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","sourceRoot":""}