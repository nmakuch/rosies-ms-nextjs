(window.webpackJsonp=window.webpackJsonp||[]).push([["ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNot~7e52de2e"],{"./src/lib/unicodeUtils/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}));const s=e=>{let t=0,n=0;const s=[0];for(const r of e)t++,n+=r.length,s[t]=n;return s},r=e=>{let t=0,n=0;const s=[];for(const r of e){for(let e=0;e<r.length;e++)s[n]=t,n++;t++}return s[n]=t,s}},"./src/reddit/components/Media/EmbedBox/index.m.less":function(e,t,n){e.exports={embedBox:"_3K6DCjWs2dQ93YYZDOHjib"}},"./src/reddit/components/Media/EmbedBox/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/es/index.js"),a=n("./src/lib/addQueryParams/index.ts"),c=n("./src/lib/classNames/index.ts"),d=n("./src/lib/forceHttps/index.ts"),l=n("./src/reddit/constants/tracking.ts"),u=n("./src/reddit/models/Media/index.ts"),h=n("./src/reddit/selectors/user.ts"),p=n("./src/reddit/components/Media/EmbedBox/index.m.less"),m=n.n(p);const b=Object(o.b)(()=>Object(i.c)({isNightmodeOn:h.U}));t.a=b(e=>{const t={responsive:"true",is_nightmode:e.isNightmodeOn},n=e.isResponsive?Object(a.a)(Object(d.a)(e.source),t):Object(d.a)(e.source),s={overflow:"hidden"};return s.width=e.width&&!e.fullWidth?"".concat(e.width,"px"):"100%",e.showCentered&&(s.margin="0 auto"),e.isListing||(s.maxHeight="".concat(u.e,"px")),void 0!==e.maxHeight&&(s.maxHeight=e.maxHeight||void 0),r.a.createElement("iframe",{className:Object(c.a)(l.b,m.a.embedBox,e.className),height:e.height,width:e.width&&!e.fullWidth?e.width:"100%",onLoad:e.onLoad,ref:e.childRef,title:e.title,scrolling:"no",src:n,style:s,allowFullScreen:!0})})},"./src/reddit/components/Media/ImageBox/index.m.less":function(e,t,n){e.exports={container:"_3Oa0THmZ3f5iZXAQ0hBJ0k",image:"_2_tDEnGMLxpM6uOa2kaDB3",mShowCentered:"_1XWObl-3b9tPy64oaG6fax",mShowBlurred:"_3oBPn1sFwq76ZAxXgwRhhn",seeMore:"_3hUbl08LBz2mbXjy0iYhOS",unblurButtonContainer:"c1UAj_LbgdGBuJFlKbnrQ",unblurButton:"_2Ws3wFSVPzJhnW46FsoxLv"}},"./src/reddit/components/Media/ImageBox/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return w}));n("./node_modules/core-js/modules/es6.symbol.js");var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/react-router-dom/esm/react-router-dom.js"),a=n("./node_modules/reselect/es/index.js"),c=n("./src/lib/classNames/index.ts"),d=n("./src/lib/forceHttps/index.ts"),l=n("./src/lib/permalinkToOverlayLocation/index.ts"),u=n("./src/reddit/components/PlayButton/index.tsx"),h=n("./src/reddit/constants/elementClassNames.ts"),p=n("./src/reddit/i18n/components.tsx"),m=n("./src/reddit/i18n/utils.ts"),b=n("./src/reddit/models/Media/index.ts"),f=n("./src/reddit/selectors/posts.ts"),g=n("./src/reddit/selectors/user.ts"),x=n("./src/reddit/constants/tracking.ts"),O=n("./src/reddit/components/Media/ImageBox/index.m.less"),E=n.n(O);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var y=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const _=(e,t)=>{return e/t>16/9},w=e=>e>2*b.e,v=e=>{const t=Object(c.a)(E.a.image,h.h,e.className,{[E.a.mShowCentered]:e.showCentered,[E.a.mShowBlurred]:e.shouldBlur}),n={};return e.showFull||e.isTall||(n.maxHeight="".concat(b.i,"px")),e.isListing||e.isTall&&w(e.height)||(n.maxHeight="".concat(b.e,"px")),e.isExpando&&e.maxHeight&&(n.maxHeight="".concat(e.maxHeight,"px")),e.isExpando&&e.maxWidth&&(n.maxWidth="".concat(e.maxWidth,"px")),r.a.createElement("img",{alt:Object(m.c)("Post image"),className:t,src:e.src,style:n})},C=e=>{const t={};return(!e.showFull&&_(e.height,e.width)||e.shouldBlur)&&(t.overflow="hidden"),e.showFull||(t.maxHeight="".concat(b.i,"px"),e.shouldBlur&&(t.maxWidth=_(e.height,e.width)?"".concat(b.w,"px"):"".concat(e.width,"px"))),e.showCentered&&(t.margin="0 auto"),e.isExpando&&e.maxHeight&&(t.maxHeight="".concat(e.maxHeight,"px")),r.a.createElement("div",{className:Object(c.a)(E.a.container,e.className),style:t},e.children)},I=Object(a.c)({postPermalink:f.I,shouldOpenPostInNewTab:g.W}),S=Object(o.b)(I);t.a=S(e=>e.outboundUrl?r.a.createElement("a",{href:e.outboundUrl,target:"_blank"},P(e)):e.isListing&&e.postPermalink?r.a.createElement(i.a,{target:e.shouldOpenPostInNewTab?"_blank":void 0,to:Object(l.a)(e.postPermalink)},P(e)):P(e));const T=(e,t)=>r.a.createElement(v,{className:Object(c.a)(t.imageClassName,{[x.b]:!e}),height:t.height,isExpando:!!t.isExpando,isListing:t.isListing,isTall:e,maxHeight:t.maxHeight,maxWidth:t.maxWidth,shouldBlur:t.shouldBlur,showCentered:t.showCentered,showFull:t.showFull,src:Object(d.a)(t.source),width:t.width}),P=e=>{var{onClick:t}=e,n=y(e,["onClick"]);const s=_(n.height,n.width),o=w(n.height)&&s;return r.a.createElement(C,j({},n,{className:"".concat(s?"".concat(x.b," "):"").concat(n.className||"")}),n.isListing?r.a.createElement("div",{className:n.contentImageClassName},T(s,n)):r.a.createElement("a",{href:n.originalSource,onClick:t,style:o?{maxWidth:"50%"}:{},target:"_blank"},T(s,n)),n.isListing&&!n.showFull&&n.height>b.i&&_(n.height,n.width)&&r.a.createElement("div",{className:E.a.seeMore},r.a.createElement(p.c,null,"see full image")),n.isVideoThumbnail&&r.a.createElement(u.a,{onClick:t}),n.shouldBlur&&!n.isVideoThumbnail&&!n.isListing&&r.a.createElement("div",{className:E.a.unblurButtonContainer},r.a.createElement("button",{className:E.a.unblurButton},Object(m.c)("Click to see".concat(n.isNSFW?Object(m.b)("nsfw"," nsfw"):"").concat(n.isSpoiler?Object(m.b)("spoiler"," spoiler"):"")))))}},"./src/reddit/components/Media/MediaContainer/index.m.less":function(e,t,n){e.exports={blur:"_2iaYXFpGyyEGq1rp02cl5w",container:"m3aNC6yp8RrNM_-a0rrfa",video:"_3PIKVMCKdveCEcyiKr43sU",spacer:"_3gBRFDB5C34UWyxEe_U6mD",wrapper:"_3JgI-GOrkmyIeDeyzXdyUD",mColoredBackground:"_2CSlKHjH7lsjx0IpjORx14"}},"./src/reddit/components/Media/MediaContainer/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./src/lib/classNames/index.ts"),i=n("./src/lib/forceHttps/index.ts"),a=n("./src/reddit/models/Media/index.ts"),c=n("./src/reddit/components/Media/MediaContainer/index.m.less"),d=n.n(c);const l=e=>{let t=null;(e.showFull||e.height<a.i)&&(t=e.height);const n=Object.assign({},t?{maxHeight:"".concat(t,"px")}:{},e.showFull&&!e.showCentered?{maxWidth:"".concat(e.width,"px")}:{},e.blurSrc?{overflow:"hidden"}:{}),s=e.blurSrc?r.a.createElement("img",{className:d.a.blur,src:Object(i.a)(e.blurSrc)}):null,c=((e,t,n)=>n?100*n:e&&t?e/t*100:100*a.c)(e.height,e.width,e.forceAspectRatio);return r.a.createElement("div",{className:Object(o.a)(d.a.container,e.className,{[d.a.video]:e.isVideo}),"data-click-id":"media",style:n},s,r.a.createElement("div",{className:d.a.spacer,style:{paddingBottom:"".concat(c,"%")}}),r.a.createElement("div",{className:Object(o.a)(d.a.wrapper,{[d.a.mColoredBackground]:!e.blurSrc})},e.children))};t.a=e=>{if(!e.isListing&&!e.alwaysWrapMedia||e.isExpando){return r.a.Children.only(e.children)||r.a.createElement("div",null)}return r.a.createElement(l,e)}},"./src/reddit/components/Media/VideoBox/index.m.less":function(e,t,n){e.exports={container:"_3spkFGVnKMHZ83pDAhW3Mx",centered:"_2b68Lt6xHaLir5082LDDA9",styledVideo:"tErWI93xEKrI2OkozPs7J"}},"./src/reddit/components/Media/VideoBox/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/lodash/throttle.js"),r=n.n(s),o=n("./node_modules/react/index.js"),i=n.n(o),a=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/reselect/es/index.js"),d=n("./src/lib/classNames/index.ts"),l=n("./src/reddit/actions/video.ts"),u=n("./src/reddit/constants/tracking.ts"),h=n("./src/reddit/models/Media/index.ts"),p=n("./src/reddit/selectors/user.ts"),m=n("./src/reddit/selectors/video.ts");n("./node_modules/core-js/modules/es6.symbol.js");const b=100,f=b/2/1e3;var g=n("./src/lib/forceHttps/index.ts");function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var O=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};class E extends i.a.Component{constructor(e){super(e),this.toggle=e=>{if(e){const e=this.play();e&&e.catch&&e.catch(()=>{})}else this.pause()},this.ref=null}play(){if(this.ref&&this.ref.play)return this.ref.play()}pause(){if(this.ref&&this.ref.pause)return this.ref.pause()}componentDidMount(){this.initEventHandlers(),this.toggle(!this.props.shouldPause&&(this.props.autoplay||this.props.isNotCardView))}componentWillUnmount(){this.destroyEventHandlers()}componentWillReceiveProps(e){this.props.shouldPause!==e.shouldPause&&this.toggle(!e.shouldPause&&(e.autoplay||e.isNotCardView))}destroyEventHandlers(){this.ref&&this.cancelBufferingDetector&&this.cancelBufferingDetector()}initEventHandlers(){this.ref&&this.props.onBufferingChange&&(this.cancelBufferingDetector=function(e,t){let n=!1,s=!1;const r=()=>n=!0,o=()=>s=!0;e.addEventListener("loadeddata",r),e.addEventListener("play",o),e.addEventListener("playing",o);let i=!1,a=0,c=0;const d=window.setInterval(()=>{if(c=e.currentTime,s)return s=!1,void(a=c);if(e.paused||e.seeking||!n)return void(a=c);const r=i;4===e.readyState?i=!1:!i&&c>=a&&c<a+f?i=!0:i&&c>=a&&c>a+f&&(i=!1),a=c,r!==i&&t(i)},b);return()=>{clearInterval(d),e.removeEventListener("playing",o),e.removeEventListener("play",o),e.removeEventListener("loadeddata",r)}}(this.ref,this.props.onBufferingChange))}render(){const e=this.props,{autoplay:t,isListing:n,isNotCardView:s,onBufferingChange:r,shouldLoad:o,shouldPause:a,showCentered:c,showFull:d,source:l}=e,u=O(e,["autoplay","isListing","isNotCardView","onBufferingChange","shouldLoad","shouldPause","showCentered","showFull","source"]);return i.a.createElement("video",x({},u,{ref:e=>{this.ref=e},muted:!0}),i.a.createElement("source",{src:Object(g.a)(this.props.source)}))}}var j=E,y=n("./src/reddit/components/Media/VideoBox/index.m.less"),_=n.n(y);const w=Object(c.c)({autoplayPref:p.b,consumed:m.b,loadTimes:m.f,metadata:m.g,started:m.i}),v=Object(a.b)(w,(e,t)=>{let{postId:n}=t;return{onBufferingChanged:t=>{e(t?l.w(n):l.I(n))},onLoadStarted:t=>e(l.v(n,t)),onMetadataReceived:t=>e(l.H({metadata:t,postId:n})),onPaused:()=>e(l.D({postId:n})),onPlayable:t=>e(l.E(n,t)),onPlaying:()=>e(l.G(n)),onWatched:()=>e(l.x(n)),onViewableImpression:()=>e(l.B(n)),onFullyViewableImpression:()=>e(l.A(n)),onPlayedWithSound:()=>e(l.F(n)),onWatchedPercent:t=>e(l.O(t,n))}});class C extends i.a.Component{constructor(){super(...arguments),this.percentTriggered=0,this._checkForConsumption=r()(e=>{if(this.props.consumed)return;const{target:t}=e;t&&t.played&&1===t.played.length&&0===t.played.start(0)&&t.played.end(0)===t.duration&&this.props.onWatched()},200),this.onTimeUpdate=e=>{e.persist(),this._checkForConsumption(e)},this.onVideoPlayable=e=>{this.props.metadata||this.sendTransformedMetadata(e),this.props.started||this.props.onPlayable(e.timeStamp)},this.loadStarted=e=>{this.props.onLoadStarted(e.timeStamp)},this.sendTransformedMetadata=e=>{this.props.onMetadataReceived({id:this.props.postId,length:1e3*e.target.duration,originalHeight:e.target.videoHeight,originalWidth:e.target.videoWidth})},this.onPaused=e=>{this.props.onPaused()},this.onPlaying=e=>{this.props.loadTimes||this.onVideoPlayable(e),this.props.metadata||this.sendTransformedMetadata(e),this.props.onPlaying()},this.renderVideoPlayer=()=>{const{showCentered:e,isListing:t}=this.props,n={};return e&&(n.margin="0 auto"),t||(n.maxHeight="".concat(h.e,"px")),i.a.createElement(j,{autoplay:this.props.autoplayPref,className:Object(d.a)(u.b,_.a.styledVideo),height:this.props.height,isListing:this.props.isListing,isNotCardView:this.props.isNotCardView,key:this.props.postId,loop:!0,onBufferingChange:this.props.onBufferingChanged,onLoadStart:this.loadStarted,onLoadedData:this.onVideoPlayable,onLoadedMetadata:this.sendTransformedMetadata,onPause:this.props.onPaused,onPlaying:this.onPlaying,onTimeUpdate:this.onTimeUpdate,shouldLoad:this.props.shouldLoad,shouldPause:this.props.shouldPause,showCentered:this.props.showCentered,showFull:this.props.showFull,source:this.props.source,style:n,width:this.props.width})}}render(){return this.props.isListing?this.renderVideoPlayer():i.a.createElement("div",{className:Object(d.a)(_.a.container,this.props.className,{[_.a.centered]:this.props.showCentered})},i.a.createElement("a",{href:this.props.originalSource,target:"_blank"},this.renderVideoPlayer()))}}t.a=v(C)},"./src/reddit/components/RichTextJson/Emote/index.m.less":function(e,t,n){e.exports={container:"JnJcJlA7hHeajn8Um_Bh5"}},"./src/reddit/components/RichTextJson/SpoilerText.m.less":function(e,t,n){e.exports={InnerSpan:"_3mIYu0jAt23sIWGr4pFcI",innerSpan:"_3mIYu0jAt23sIWGr4pFcI",TooltipTarget:"_2XOXS9oLSigrX7LIefjqhe",tooltipTarget:"_2XOXS9oLSigrX7LIefjqhe",SpoilerWrapper:"_2v4IIjPhKL0PDaWaWtjJ1E",spoilerWrapper:"_2v4IIjPhKL0PDaWaWtjJ1E",isOpen:"_15VS32zBYFUDI5ssldQhEK",Component:"_3CBmNG6xIaLHHh1ts_10tN",component:"_3CBmNG6xIaLHHh1ts_10tN"}},"./src/reddit/components/RichTextJson/SpoilerText.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./src/lib/classNames/index.ts"),i=n("./src/higherOrderComponents/addOverlayEvents.tsx"),a=n("./src/reddit/components/InfoTextTooltip/index.tsx"),c=n("./src/reddit/components/OverlayAwareTooltip/index.tsx"),d=n("./src/reddit/i18n/utils.ts"),l=n("./src/reddit/components/RichTextJson/SpoilerText.m.less"),u=n.n(l),h=n("./src/lib/lessComponent.tsx");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var m=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const b=["left","top"],f=["left","bottom"],g=h.a.span("InnerSpan",u.a),x=h.a.span("TooltipTarget",u.a),O=h.a.span("SpoilerWrapper",u.a),E=h.a.wrapped(e=>{var{className:t,isOpen:n}=e,s=m(e,["className","isOpen"]);return r.a.createElement(O,p({},s,{className:Object(o.a)(t,{[u.a.isOpen]:n})}))},"SpoilerWrapper",u.a),j=Object(c.a)(h.a.wrapped(a.b,"Component",u.a),[i.a.Click,i.a.Keydown]);class y extends r.a.Component{constructor(e){super(e),this.tooltipTargetElement=null,this.onClick=e=>{const{isOpen:t}=this.state;t||(e.preventDefault(),e.stopPropagation(),this.setState({isOpen:!0}))},this.setTooltipTargetRef=e=>this.tooltipTargetElement=e,this.onShowTooltip=()=>{this.state.isOpen||this.setState({showTooltip:!0})},this.onHideTooltip=()=>{this.setState({showTooltip:!1})},this.state={isOpen:!1,showTooltip:!1}}render(){const{isOpen:e,showTooltip:t}=this.state;return r.a.createElement(E,{isOpen:e,onMouseEnter:this.onShowTooltip,onMouseLeave:this.onHideTooltip,onClick:this.onClick},r.a.createElement(g,null,r.a.createElement(x,{innerRef:this.setTooltipTargetRef}),r.a.createElement(j,{isOpen:t,tooltipTarget:this.tooltipTargetElement,text:Object(d.c)("Reveal spoiler"),targetPosition:b,tooltipPosition:f}),this.props.children))}}t.a=y},"./src/reddit/components/RichTextJson/elements.m.less":function(e,t,n){e.exports={H1:"_7T4UafM1PdBGycd5na9nF",h1:"_7T4UafM1PdBGycd5na9nF",H2:"_1WODZhR-x-fbMu3MOL9cH1",h2:"_1WODZhR-x-fbMu3MOL9cH1",H3:"WFFrvt6_3z5B7MBcYKr8U",h3:"WFFrvt6_3z5B7MBcYKr8U",H4:"_2UlSUuiYR4BRv_FiLxCcu9",h4:"_2UlSUuiYR4BRv_FiLxCcu9",H5:"hnYPKCNkyo9X6QpCXHj1I",h5:"hnYPKCNkyo9X6QpCXHj1I",H6:"_1ceLNhXCFZ1_Lj9Th4go_C",h6:"_1ceLNhXCFZ1_Lj9Th4go_C",Hr:"_2ACwpV3Y0LKhHHKbsxNmmY",hr:"_2ACwpV3Y0LKhHHKbsxNmmY",M:"_34q3PgLsx9zIU5BiSOjFoM",m:"_34q3PgLsx9zIU5BiSOjFoM",Pre:"_3GnarIQX9tD_qsgXkfSDz1",pre:"_3GnarIQX9tD_qsgXkfSDz1",Blockquote:"_28lDeogZhLGXvE95QRPeDL",blockquote:"_28lDeogZhLGXvE95QRPeDL",P:"_1qeIAgB0cPwnLhDF9XSiJM",p:"_1qeIAgB0cPwnLhDF9XSiJM",Li:"_3gqTEjt4x9UIIpWiro7YXz",li:"_3gqTEjt4x9UIIpWiro7YXz",Ul:"_33MEMislY0GAlB78wL1_CR",ul:"_33MEMislY0GAlB78wL1_CR",Ol:"_1eJr7K139jnMstd4HajqYP",ol:"_1eJr7K139jnMstd4HajqYP",B:"_12FoOEddL7j_RgMQN0SNeU",b:"_12FoOEddL7j_RgMQN0SNeU",I:"_7s4syPYtk5hfUIjySXcRE",i:"_7s4syPYtk5hfUIjySXcRE",U:"HoWuCifWxDx-PnwllGmZd",u:"HoWuCifWxDx-PnwllGmZd",Sub:"_2aQztsTwdz2uTN4arsyBD6",sub:"_2aQztsTwdz2uTN4arsyBD6",Sup:"_1jsgSPRO0cMQfs1UZrSovE",sup:"_1jsgSPRO0cMQfs1UZrSovE",Table:"MRH-njmSb5ZTkfb1o4dqv",table:"MRH-njmSb5ZTkfb1o4dqv",Tr:"s6JZe6869f81l9E_5G7Q9",tr:"s6JZe6869f81l9E_5G7Q9",Tdl:"_3DYfYn_cczg1wj_a3hhyV6",tdl:"_3DYfYn_cczg1wj_a3hhyV6",Tdc:"_1LHijgw3WoeCUe8AUewfUB",tdc:"_1LHijgw3WoeCUe8AUewfUB",Tdr:"_3DqGFKR55y45L5IxBTgsFz",tdr:"_3DqGFKR55y45L5IxBTgsFz",Thl:"_4uv59XIILEFm6V3BmtSuR",thl:"_4uv59XIILEFm6V3BmtSuR",Thc:"_3TNkDptlyGOiWXvdX_acOB",thc:"_3TNkDptlyGOiWXvdX_acOB",Thr:"_1AUCpXmm3maPuEbUSe90Y8",thr:"_1AUCpXmm3maPuEbUSe90Y8",A:"_3t5uN8xUmg0TOwRCOGQEcU",a:"_3t5uN8xUmg0TOwRCOGQEcU"}},"./src/reddit/components/RichTextJson/elements.tsx":function(e,t,n){"use strict";n.d(t,"w",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"h",(function(){return h})),n.d(t,"k",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"v",(function(){return g})),n.d(t,"i",(function(){return x})),n.d(t,"b",(function(){return O})),n.d(t,"f",(function(){return E})),n.d(t,"u",(function(){return j})),n.d(t,"d",(function(){return y})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return w})),n.d(t,"n",(function(){return v})),n.d(t,"t",(function(){return C})),n.d(t,"p",(function(){return I})),n.d(t,"o",(function(){return S})),n.d(t,"q",(function(){return T})),n.d(t,"s",(function(){return P})),n.d(t,"r",(function(){return L})),n.d(t,"a",(function(){return N}));var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./src/reddit/controls/OutboundLink/index.tsx"),i=n("./src/reddit/components/RichTextJson/elements.m.less"),a=n.n(i),c=n("./src/lib/lessComponent.tsx");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}const l=[c.a.div("H1",a.a),c.a.div("H2",a.a),c.a.div("H3",a.a),c.a.div("H4",a.a),c.a.div("H5",a.a),c.a.div("H6",a.a)],u=c.a.hr("Hr",a.a),h=c.a.code("M",a.a),p=c.a.pre("Pre",a.a),m=c.a.blockquote("Blockquote",a.a),b=c.a.p("P",a.a),f=c.a.li("Li",a.a),g=c.a.ul("Ul",a.a),x=c.a.ol("Ol",a.a),O=c.a.strong("B",a.a),E=c.a.em("I",a.a),j=c.a.span("U",a.a),y=e=>r.a.createElement("del",e),_=c.a.sub("Sub",a.a),w=c.a.sup("Sup",a.a),v=c.a.table("Table",a.a),C=c.a.tr("Tr",a.a),I=c.a.td("Tdl",a.a),S=c.a.td("Tdc",a.a),T=c.a.td("Tdr",a.a),P=c.a.th("Thl",a.a),L=c.a.th("Thc",a.a),N=(c.a.th("Thr",a.a),c.a.wrapped(e=>r.a.createElement(o.a,d({},e,{isSponsored:!1,source:null})),"A",a.a))},"./src/reddit/components/RichTextJson/index.m.less":function(e,t,n){e.exports={Container:"_292iotee39Lmt0MkQZ2hPV",container:"_292iotee39Lmt0MkQZ2hPV"}},"./src/reddit/components/RichTextJson/index.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return I}));n("./node_modules/core-js/modules/es6.symbol.js");var s=n("./node_modules/lodash/findLastIndex.js"),r=n.n(s),o=n("./node_modules/react/index.js"),i=n.n(o),a=n("./src/lib/classNames/index.ts"),c=n("./src/lib/CSSVariableProvider/withTheme.tsx"),d=n("./src/lib/sentry/index.ts"),l=n("./src/reddit/constants/elementClassNames.ts"),u=n("./src/reddit/helpers/styles/postBackgroundColor.ts"),h=n("./src/reddit/helpers/styles/smartTextColor.ts"),p=n("./src/reddit/models/RichTextJson/index.ts"),m=n("./src/reddit/components/RichTextJson/media.tsx"),b=n("./src/reddit/components/RichTextJson/renderers.tsx"),f=n("./src/reddit/components/RichTextJson/index.m.less"),g=n.n(f),x=n("./src/lib/lessComponent.tsx");function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var E=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const j=x.a.div("Container",g.a),y=Object(c.a)(e=>{var{flairStyleTemplate:t}=e,n=E(e,["flairStyleTemplate"]);return i.a.createElement(j,O({},n,{style:{color:Object(h.a)(Object(u.a)(Object.assign({flairStyleTemplate:t},n)))}}))}),_=e=>e.e===p.k?!!e.c&&!e.c.every(e=>!e.t):e.e!==p.u||!!e.c&&!e.c.every(e=>e.e===p.A&&!e.t),w=e=>r()(e,_),v=e=>e.findIndex(_),C=e=>{const{className:t,content:n,language:s,renderMediaAsLinks:r,rtJsonElementProps:o,useExplicitTextColor:c}=e,d=n.document,u=[],h=e.mediaMetadata||null,f=v(d),g=w(d);if(-1!==f)for(let i=f;i<=g;i++){const e=d[i];switch(e.e){case p.k:u.push(b.c(e,o));break;case p.l:u.push(b.d());break;case p.b:u.push(b.a(e,h,o));break;case p.c:u.push(b.b(e));break;case p.p:u.push(b.f(e,h,o));break;case p.z:u.push(b.h(e,h,o));break;case p.u:u.push(b.g(e,h,o));break;case p.h:u.push(Object(m.a)(e));break;case p.m:case p.a:case p.C:u.push(...Object(m.b)(e,h,r,s))}}return c?i.a.createElement(j,{className:Object(a.a)(l.k,t)},u):i.a.createElement(y,{className:Object(a.a)(l.k,t),flairStyleTemplate:e.flairStyleTemplate},u)};class I extends i.a.Component{constructor(){super(...arguments),this.hasError=!1,this.state={hasError:!1},this.renderDefaultFallback=()=>"Something went wrong while trying to render this"}componentDidCatch(e){this.setState({hasError:!0}),this.logError(e)}logError(e){d.c.withScope(t=>{t.setExtra("objectInfo",this.props.rtJsonElementProps.renderingObjectInfo),t.setTag("rtjson","rendering"),d.c.captureException(e)})}render(){const e=this.props,{renderFallback:t=this.renderDefaultFallback}=e,n=E(e,["renderFallback"]);if(this.hasError||this.state.hasError)return t();try{return C(n)}catch(s){return this.hasError=!0,this.logError(s),t()}}}},"./src/reddit/components/RichTextJson/media.m.less":function(e,t,n){e.exports={A:"_1PlxnYkerei9iGJsL9JyrP",a:"_1PlxnYkerei9iGJsL9JyrP",ImageBox:"_2LjgQiHLCZ9LDbCQx5KaOi",imageBox:"_2LjgQiHLCZ9LDbCQx5KaOi",MediaContainer:"_1uZBAwg0skEanBXfZsIWJh",mediaContainer:"_1uZBAwg0skEanBXfZsIWJh",Caption:"FJNSiirwoPtG58aeGw2Jx",caption:"FJNSiirwoPtG58aeGw2Jx",Placeholder:"_2-H7KMbqeJxA6VjyAX4GMX",placeholder:"_2-H7KMbqeJxA6VjyAX4GMX",giphy:"_3J81Ds3WITP7zlq_PlUmGf"}},"./src/reddit/components/RichTextJson/media.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return T}));n("./node_modules/core-js/modules/es6.symbol.js");var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./src/config.ts"),i=n("./src/reddit/components/HTML5StreamPlayer/index.tsx"),a=n("./src/reddit/components/Media/EmbedBox/index.tsx"),c=n("./src/reddit/components/Media/ImageBox/index.tsx"),d=n("./src/reddit/components/Media/MediaContainer/index.tsx"),l=n("./src/reddit/components/Media/VideoBox/index.tsx"),u=n("./src/reddit/helpers/richTextJson/index.ts"),h=n("./src/reddit/i18n/utils.ts"),p=n("./src/reddit/models/RichTextJson/index.ts"),m=n("./src/reddit/components/RichTextJson/elements.tsx"),b=n("./src/reddit/components/RichTextJson/media.m.less"),f=n.n(b),g=n("./src/lib/lessComponent.tsx");function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var O=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const E=/\/(\w+)\/asset\/(\w+)\//,j=g.a.wrapped(m.a,"A",f.a),y=g.a.wrapped(c.a,"ImageBox",f.a),_=g.a.wrapped(e=>{var{className:t,width:n}=e,s=O(e,["className","width"]);return r.a.createElement(d.a,x({className:t,width:n},s))},"MediaContainer",f.a),w=g.a.wrapped(e=>r.a.createElement("p",e),"Caption",f.a),v=g.a.div("Placeholder",f.a),C=g.a.wrapped(e=>{var{className:t,e:n}=e,s=O(e,["className","e"]);const o=n===p.C?Object(h.c)("Processing video..."):Object(h.c)("Processing image...");return r.a.createElement(v,x({className:t,style:{"--placeholder-content-text":"'".concat(o,"'")}},s))},"Placeholder",f.a),I=e=>{let{c:t,x:n,y:s}=e;return r.a.createElement(_,{height:s,width:n,isListing:!1,showCentered:!0,showFull:!0},r.a.createElement(a.a,{isListing:!1,source:t,height:s,width:n,showCentered:!0,showFull:!0}))},S=(e,t)=>{const n=e.c;let s="";return t&&(t.e===p.s?s=t.s.u:t.e===p.r?s=t.s.gif:t.e===p.t&&(s=(e=>{const t=E.exec(e);return t?"".concat(o.a.redditUrl,"/link/").concat(t[1],"/video/").concat(t[2],"/player"):""})(t.dashUrl))),s?r.a.createElement(j,{title:n,href:s},n||s):null},T=(e,t,n,s)=>{const o=p.D(t,e.id);if(n)return[S(e,o)];const a=[];return o?o.e===p.s?a.push((e=>{let{id:t,s:n}=e;return r.a.createElement(_,{height:n.y,width:n.x,isListing:!1,showCentered:!0,showFull:!0},r.a.createElement(y,{originalSource:n.u,postId:t,source:n.u,height:n.y,width:n.x,shouldBlur:!1,showCentered:!0,showFull:!0,isListing:!1}))})(o)):o.e===p.r?a.push((e=>{let{id:t,ext:n,s}=e;if(Object(u.d)(t)){const e=n||Object(u.c)(t);return r.a.createElement(j,{href:e,target:"_blank"},s.mp4?r.a.createElement("video",{className:f.a.giphy,loop:!0,autoPlay:!0,muted:!0},r.a.createElement("source",{src:s.mp4})):{originalSource:e})}return r.a.createElement(_,{height:s.y,width:s.x,isListing:!1,showCentered:!0,showFull:!0},r.a.createElement(l.a,{height:s.y,isListing:!1,isNotCardView:!0,originalSource:s.mp4,width:s.x,postId:t,source:s.mp4,shouldPause:!1,showCentered:!0,shouldLoad:!0,showFull:!0}))})(o)):o.e===p.t&&a.push((e=>{let{hlsUrl:t,dashUrl:n,x:s,y:o,isGif:a}=e;return r.a.createElement(_,{height:o,width:s,isListing:!1,showCentered:!0,showFull:!0},r.a.createElement(i.b,{shouldLoad:!0,shouldPause:!0,autoPlay:a,hlsSource:t,mpegDashSource:n,isGif:a}))})(o)):a.push(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return r.a.createElement(C,{e,language:t})}(e.e,s)),e.c&&a.push((e=>r.a.createElement(w,null,e))(e.c)),a}},"./src/reddit/components/RichTextJson/renderers.tsx":function(e,t,n){"use strict";var s=n("./src/lib/unicodeUtils/index.ts"),r=n("./node_modules/lodash/reduce.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n.n(i),c=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/reselect/es/index.js"),l=n("./src/reddit/components/RichTextJson/elements.tsx"),u=n("./src/higherOrderComponents/makeAsync.tsx"),h=n("./src/lib/loadWithRetries/index.ts"),p=n("./src/reddit/components/SubredditMention/SubredditIcon/index.tsx"),m=n("./src/reddit/components/SubredditMention/SubredditIconsWeighting/index.m.less"),b=n.n(m);var f=Object(u.a)({ErrorComponent:()=>null,getComponent:()=>Object(h.a)(()=>n.e("SubredditMentionWithIcon").then(n.bind(null,"./src/reddit/components/SubredditMention/SubredditIconsWeighting/index.tsx"))).then(e=>e.default),LoadingComponent:e=>{let{subredditName:t}=e;return a.a.createElement("span",{className:b.a.subredditMentionContainer},a.a.createElement(p.a,{href:"/r/".concat(t,"/")},a.a.createElement("span",{className:b.a.subredditIconContainer},a.a.createElement(p.b,null)),"r/".concat(t)))}}),g=n("./src/reddit/components/TrackingHelper/index.tsx"),x=n("./src/reddit/constants/experiments.ts"),O=n("./src/reddit/helpers/trackers/subredditMentions.ts"),E=n("./src/reddit/selectors/subredditMention.ts");class j extends a.a.PureComponent{constructor(){super(...arguments),this.handleOnClick=()=>{const{rtJsonElementProps:e,sendEvent:t,subredditName:n}=this.props;t(Object(O.a)(Object.assign({},e,{subredditName:n})))}}render(){const{subredditName:e}=this.props;return a.a.createElement(l.a,{onClick:this.handleOnClick,href:"/r/".concat(e,"/")},"r/".concat(e))}}const y=Object(g.b)(j),_=Object(d.c)({isFeatureFlagEnabled:E.b,isUserInTreatment:E.e,userVariant:E.a});var w=Object(c.b)(_)(e=>{let{isFeatureFlagEnabled:t,isUserInTreatment:n,subredditName:s,userVariant:r,rtJsonElementProps:o}=e;if(!n||!t)return a.a.createElement(y,{subredditName:s,rtJsonElementProps:o});switch(r){case x.Jb.SmIcon:return a.a.createElement(f,{subredditName:s,rtJsonElementProps:o});case x.Jb.SmIconHc:return a.a.createElement(f,{subredditName:s,isHoverable:!0,rtJsonElementProps:o});default:return a.a.createElement(y,{subredditName:s,rtJsonElementProps:o})}}),v=n("./src/reddit/helpers/richTextJson/index.ts"),C=n("./src/reddit/models/RichTextJson/index.ts"),I=n("./node_modules/uuid/v4.js"),S=n.n(I),T=n("./src/reddit/models/Product/index.ts"),P=n("./src/reddit/selectors/telemetry.ts");var L=Object(u.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>n.e("RichTextJsonEmoteTooltip").then(n.bind(null,"./src/reddit/components/RichTextJson/Emote/Tooltip/index.tsx")).then(e=>e.default)}),N=n("./src/reddit/components/RichTextJson/Emote/index.m.less"),B=n.n(N);const M=1e3,k=1e3;var R;!function(e){e[e.Inside=0]="Inside",e[e.Outside=1]="Outside"}(R||(R={}));class D extends a.a.Component{constructor(){super(...arguments),this.mouseLocation=R.Outside,this.state={tooltipOpen:!1},this.onClick=()=>this.sendEvent("click"),this.onMouseOver=()=>{this.mouseLocation=R.Inside,setTimeout(()=>{this.mouseLocation===R.Inside&&(this.setState({tooltipOpen:!0}),this.sendEvent("view"))},M)},this.onMouseOut=()=>{this.mouseLocation=R.Outside,setTimeout(()=>{this.mouseLocation!==R.Inside&&this.setState({tooltipOpen:!1})},k)},this.sendEvent=e=>{this.props.sendEvent(t=>{const n=P.defaults(t);return Object.assign({source:"meta",action:e,noun:"emote"},n,{actionInfo:Object.assign({},n.actionInfo,{reason:this.props.node.id}),subreddit:P.subreddit(t)})})}}render(){const{node:e,media:t}=this.props;let n,s,r;t.e===C.s?(n=t.s.x,s=t.s.y,r=t.s.u):t.e===C.r&&(n=t.s.x,s=t.s.y,r=t.s.gif);const o=this.state.tooltipOpen?S()():void 0;return r?a.a.createElement("div",{className:B.a.container,onClick:this.onClick,onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseOut},a.a.createElement("img",{id:o,src:r,width:n,height:s,title:":".concat(Object(T.b)(e.id),":")}),this.state.tooltipOpen&&a.a.createElement(L,{isOpen:!0,emoteId:e.id,targetPosition:["left","bottom"],tooltipId:o,tooltipPosition:["left","top"]})):null}}var H=Object(g.b)(D),U=n("./src/reddit/components/RichTextJson/media.tsx"),F=n("./src/reddit/components/RichTextJson/SpoilerText.tsx");n.d(t,"c",(function(){return J})),n.d(t,"d",(function(){return W})),n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return Y})),n.d(t,"f",(function(){return A})),n.d(t,"h",(function(){return G})),n.d(t,"g",(function(){return q})),n.d(t,"i",(function(){return Z})),n.d(t,"e",(function(){return z}));const J=(e,t)=>{const n=e.c||[],s=e.l,r=[],o=n.length;for(let a=0;a<o;a++){const e=n[a];r.push(e.e===C.w?e.t:z(e,t))}const i=l.w[s-1];return a.a.createElement(i,null,r)},W=()=>a.a.createElement(l.e,null),V=(e,t,n)=>{const s=e.c;if(!s)return;const r=s.length,o=[];for(let i=0;i<r;i++)o.push(X(s[i],t,n));return a.a.createElement(l.c,null,o)},Y=e=>{const t=e.c;return a.a.createElement(l.k,null,a.a.createElement(l.h,null,t.reduce((e,t,n,s)=>e+=t.t+(n<s.length?"\n":""),"")))},A=(e,t,n)=>{let{renderingObjectInfo:s}=n;const r=e.c,o=[],i=r.length;for(let d=0;d<i;d++){const e=r[d].c;e&&e.length&&o.push(a.a.createElement(l.g,null,e.map(e=>X(e,t,{renderingObjectInfo:s}))))}const c=e.o?l.i:l.v;return a.a.createElement(c,null,o)},X=(e,t,n)=>{switch(e.e){case C.b:return V(e,t,n);case C.c:return Y(e);case C.k:return J(e,n);case C.l:return W();case C.p:return A(e,t,n);case C.u:return q(e,t,n);case C.z:return G(e,t,n)}},G=(e,t,n)=>{const s=e.c,r=e.h,o=s.length,i=r.length,c=[],d=[],u=[];for(let l=0;l<i;l++){const e=r[l],{H:s,D:o}=te(e.a),{c:i=[]}=e;c.push(a.a.createElement(s,null,Z(i,t,n))),u[l]=o}for(let h=0;h<o;h++){const e=s[h],r=e.length,o=[];for(let s=0;s<r;s++){const r=u[s],{c:i=[]}=e[s];o.push(a.a.createElement(r,null,Z(i,t,n)))}d.push(a.a.createElement(l.t,null,o))}return a.a.createElement(l.n,null,a.a.createElement("thead",null,a.a.createElement(l.t,null,c)),a.a.createElement("tbody",null,d))},K=a.a.createElement(l.j,null,a.a.createElement("br",null)),q=(e,t,n)=>{if(!e.c||!e.c.length)return K;const s=e.c[0];return s.e!==C.m&&s.e!==C.a||!Object(v.d)(s.id)?a.a.createElement(l.j,null,Z(e.c,t,n)):Object(U.b)(s,t)},Z=(e,t,n)=>{const s=[],r=e.length;for(let o=0;o<r;o++){const r=e[o];if(r.e===C.A)s.push(Q(r));else if(r.e===C.x)s.push(a.a.createElement(F.a,null,Z(r.c,t,n)));else if(r.e===C.n)s.push(a.a.createElement("br",null));else if(r.e===C.m||r.e===C.a){if(r.id.startsWith("emote|")){const e=C.D(t,r.id);e&&s.push(a.a.createElement(H,{node:r,media:e}))}}else s.push(z(r,n))}return s},z=(e,t)=>{switch(e.e){case C.o:return a.a.createElement(l.a,{title:e.a,href:e.u},Q({t:e.t,f:e.f}));case C.y:return a.a.createElement(w,{subredditName:e.t,rtJsonElementProps:t});case C.B:return a.a.createElement(l.a,{href:"/u/".concat(e.t,"/")},"".concat(e.l?"/":"","u/").concat(e.t));case C.g:case C.v:return a.a.createElement(l.a,{href:e.t},e.t)}},Q=e=>{const{f:t,t:n}=e,r=[];if(!t)return ee(0,n);const o=Object(s.a)(n);let i=0,a=0;const c=t.length;for(;i<c;i++){const[e,s,c]=t[i],d=s+c,l=o[s],u=o[d]-l;l>a&&r.push(ee(0,n.substr(a,l-a))),r.push(ee(e,n.substr(l,u))),a=l+u}return a<n.length&&r.push(ee(0,n.substr(a))),r},$={[C.j.monospace]:l.h,[C.j.bold]:l.b,[C.j.italic]:l.f,[C.j.underline]:l.u,[C.j.strikethrough]:l.d,[C.j.subscript]:l.l,[C.j.superscript]:l.m},ee=(e,t)=>{let n=t;return n=o()($,(t,n,s)=>e&parseInt(s,10)?a.a.createElement(n,null,t):t,n)},te=e=>{switch(e){case C.f:return{H:l.r,D:l.q};case C.d:return{H:l.r,D:l.o};case C.e:default:return{H:l.r,D:l.p}}}},"./src/reddit/components/SubredditMention/SubredditIcon/index.m.less":function(e,t,n){e.exports={S:"Zwo7CZoszMU6kBYhWyIC7",s:"Zwo7CZoszMU6kBYhWyIC7",SubredditIcon:"_33bYVIxJlbFcqiiYlexnqp",subredditIcon:"_33bYVIxJlbFcqiiYlexnqp"}},"./src/reddit/components/SubredditMention/SubredditIcon/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h}));var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./src/lib/lessComponent.tsx"),i=n("./src/reddit/components/SubredditIcon/index.tsx"),a=n("./src/reddit/controls/OutboundLink/index.tsx"),c=n("./src/reddit/components/SubredditMention/SubredditIcon/index.m.less"),d=n.n(c);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}const u=o.a.wrapped(i.b,"SubredditIcon",d.a),h=o.a.wrapped(e=>r.a.createElement(a.a,l({},e,{isSponsored:!1,source:null})),"S",d.a)},"./src/reddit/components/SubredditMention/SubredditIconsWeighting/index.m.less":function(e,t,n){e.exports={topPostsTitle:"_2Pw8j7a2DYkjTDOFbIdODA",hovercardStyle:"_2ktYI4-r7C-HaMk9ulbwog",top:"_3rKUrAbYNFvE7-nMDs6lwZ",subredditMentionContainer:"_1e2szH8g0XMMM_EuCN8Olk",subredditIconContainer:"_3kpwADnYG-SH40aaSdX3ZE"}},"./src/reddit/helpers/styles/mixins/loading.m.less":function(e,t,n){e.exports={loadingBackground:"fzTkuBRFT8iIn1XnJX_Yn","m-loading":"_34yMY7-6MNnz3utfjExvIq",mLoading:"_34yMY7-6MNnz3utfjExvIq",gradientAnimation:"vnt666wwqSK5qL63sBn9P",loadingBar:"_3giTODNeZ-Po90u8Ghs4aI",loadingContainer:"VRC9QT7CgUxvhK0ceQSrn"}},"./src/reddit/helpers/styles/mixins/loading.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var s=n("./src/lib/classNames/index.ts"),r=n("./src/reddit/helpers/styles/mixins/loading.m.less"),o=n.n(r);const i=e=>{let{isLoading:t}=e;return Object(s.a)(o.a.loadingBackground,{[o.a["m-loading"]]:t})},a=e=>Object(s.a)(o.a.loadingBar,i(e))},"./src/reddit/helpers/trackers/subredditMentions.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return x})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return y}));var s,r,o=n("./src/reddit/constants/tracking.ts"),i=n("./src/reddit/contexts/PageLayer/index.tsx"),a=n("./src/reddit/helpers/isComment.ts"),c=n("./src/reddit/helpers/isPost.ts"),d=n("./src/reddit/models/DiscoveryUnit/index.ts"),l=n("./src/reddit/selectors/subreddit.ts"),u=n("./src/reddit/selectors/telemetry.ts"),h=n("./src/telemetry/models/Outbound.ts");!function(e){e.INTERNAL_LINK="internal_link",e.SUBREDDIT_HOVERCARD="subreddit_mentions_hovercard",e.HEADER_SUBREDDIT="header_subreddit",e.HEADER_SUBREDDIT_SUBSCRIBE="header_subreddit_subscribe",e.HEADER_SUBREDDIT_UNSUBSCRIBE="header_subreddit_unsubscribe",e.ITEM_POST="item_post"}(s||(s={})),function(e){e.LINK="link",e.DISCOVERY_UNIT="discovery_unit"}(r||(r={}));const p=e=>Object.assign({},u.defaults(e),{source:r,screen:u.screen(e),discoveryUnit:{id:"xd_100",name:s.SUBREDDIT_HOVERCARD,type:d.f.Listing,title:s.SUBREDDIT_HOVERCARD}}),m=(e,t)=>{let{renderingObjectInfo:n,pageLayer:s}=t;if(n&&(Object(a.b)(n)||Object(c.b)(n)))return Object(a.b)(n)?h.SourceElement.Comment:Object(i.w)(s)?h.SourceElement.PostDetail:Object(i.F)(s)?h.SourceElement.ListingPostDetail:void 0},b=(e,t)=>{const{renderingObjectInfo:n}=t;if(!n||!Object(c.b)(n)&&!Object(a.b)(n))return{};const s=Object(c.b)(n)?n.belongsTo.id:n.subredditId;return Object.assign({post:u.post(e,n.id),subreddit:u.subredditById(e,s)},((e,t)=>{const{renderingObjectInfo:n,subredditName:s}=t;if(!n||!Object(c.b)(n)&&!Object(a.b)(n))return{outbound:void 0};const r=Object(c.b)(n)?"postId":"commentId",o={url:"/r/".concat(s,"/"),sourceElement:m(0,t),subredditName:s,[r]:n.id},i=Object(l.B)(e,{subredditName:s});return i?{outbound:Object.assign({},o,{url:i.url,subredditId:i.id})}:{outbound:Object.assign({},o)}})(e,t))},f=e=>t=>Object.assign({},(e=>Object.assign({},u.defaults(e),{source:r.LINK,action:o.d.CLICK,noun:s.INTERNAL_LINK}))(t),b(t,e)),g=e=>t=>Object.assign({},p(t),{source:"global",action:o.d.VIEW,noun:s.SUBREDDIT_HOVERCARD,subreddit:u.subredditByName(t,e),screen:u.screen(t)}),x=(e,t)=>n=>Object.assign({},p(n),{source:r.DISCOVERY_UNIT,action:o.d.VIEW,noun:s.ITEM_POST,post:u.post(n,t),subreddit:u.subredditByName(n,e),screen:u.screen(n)}),O=(e,t)=>n=>Object.assign({},p(n),{source:r.DISCOVERY_UNIT,action:o.d.CLICK,noun:s.ITEM_POST,post:u.post(n,t),subreddit:u.subredditByName(n,e),screen:u.screen(n)}),E=e=>t=>Object.assign({},p(t),{subreddit:u.subredditById(t,e)||null,source:r.DISCOVERY_UNIT,action:o.d.CLICK,noun:s.HEADER_SUBREDDIT}),j=e=>t=>Object.assign({},p(t),{subreddit:u.subredditById(t,e)||null,source:r.DISCOVERY_UNIT,action:o.d.CLICK,noun:s.HEADER_SUBREDDIT_SUBSCRIBE}),y=e=>t=>Object.assign({},p(t),{subreddit:u.subredditById(t,e)||null,source:r.DISCOVERY_UNIT,action:o.d.CLICK,noun:s.HEADER_SUBREDDIT_UNSUBSCRIBE})},"./src/reddit/selectors/subredditMention.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return h}));var s=n("./src/reddit/constants/experiments.ts"),r=n("./src/reddit/featureFlags/index.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/selectors/subreddit.ts");const a=e=>r.d.subredditMentionD2xExperiment(e),c=e=>{return Object(o.c)(e,{experimentEligibilitySelector:a,experimentName:s.Db})||""},d=e=>{const t=c(e);return t===s.Jb.SmIcon||t===s.Jb.SmIconHc},l=(e,t)=>{let{subredditName:n}=t;return!!e.subreddits.api.models.pending[n]},u=(e,t)=>{let{subredditName:n}=t;return!!e.subreddits.api.models.error[n]},h=(e,t)=>{let{subredditName:n}=t;const s=Object(i.W)(e,{subredditName:n});return(s&&s.postIds||[]).slice(0,2)}}}]);
//# sourceMappingURL=ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNot~7e52de2e.90d881f2927b9c2518dc.js.map